<div class="container mt-4">
  <h2 class="mb-4 text-center fw-bold my-5">Create New Product Template Page</h2>

  <!-- Category Input -->
  <div class="mb-3 my-5">
    <div class="row mt-2">
      <div class="col-6">
        <div class="row">
          <div class="col-11">
            <input [value]="selectedCategories" class="form-control" placeholder="Selected Categories" readonly />
          </div>
          <div class="col-1">
            <i class="bi bi-arrow-down btn"></i>
          </div>
        </div>
        <div class="dropdown">
          <div *ngFor="let product of products"
            class="border p-3 mb-2 d-flex justify-content-between align-items-center">
            <div class="me-auto check">
              <input type="checkbox" [(ngModel)]="product.isSelected" (change)="updateSelectedCategories()" />
              <span class="fw-bold">{{ product.Category }}</span>
            </div>
          </div>
        </div>
      </div>

      <div class="col-6">
        <div class="row">
          <div class="col-11">
            <input [value]="selectedSubCategories" class="form-control" placeholder="Selected Categories" readonly />
          </div>
          <div class="col-1">
            <i class="bi bi-arrow-down btn"></i>
          </div>
        </div>
        <div class="dropdown">
          <div *ngFor="let product of subproducts"
            class="border p-3 mb-2 d-flex justify-content-between align-items-center">
            <div class="me-auto check">
              <input type="checkbox" [(ngModel)]="product.isSelected" (change)="updateSelectedSubCategories()" />
              <span class="fw-bold">{{ product.SubCategory }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    
    <div>
      <div class="row mt-3">
        <div class="col-11">
          <input [value]="selectedTemplateCategories" class="form-control" placeholder="Selected Categories" readonly />
        </div>
        <div class="col-1">
          <i class="bi bi-arrow-down btn"></i>
        </div>
      </div>
      <div class="dropdown">
        <div *ngFor="let product of templateproducts"
          class="border p-3 mb-2 d-flex justify-content-between align-items-center">
          <div class="me-auto check">
            <input type="checkbox" [(ngModel)]="product.isSelected" (change)="updateSelectedTemplateCategories()" />
            <span class="fw-bold">{{ product.templatecategory }}</span>
          </div>
        </div>
      </div>


      <div class="row mt-3">
        <div class="col-6">
          <input type="text" [(ngModel)]="Category" class="form-control" placeholder="Categoryname"
            [ngClass]="{ 'bg-danger text-white': duplicateCategory || (submitted && Category === '') }"
            [placeholder]="duplicateCategory ? 'Name already taken' : (submitted && Category === '' ? 'Please input' : 'Product')" />
        </div>
        <div class="col-6">
          <input type="text" [(ngModel)]="Numeric" class="form-control" placeholder="code"
            [ngClass]="{ 'bg-danger text-white': duplicateCategory || (submitted && Category === '') }"
            [placeholder]="duplicateCategory ? 'Name already taken' : (submitted && Category === '' ? 'Please input' : 'code')" />
        </div>
        <div class="col-12 mt-3">
          <textarea class="form-control" placeholder="Description"></textarea>
        </div>
      </div>
    </div>

    <!-- Footer Buttons -->
    <div class="mt-4 d-flex justify-content-end">
      <button class="btn btn-secondary me-2 px-3 py-2">
        <a routerLink="/created-new-product" class="text-white text-decoration-none">Cancel</a>
      </button>
      <button (click)="addProduct()" class="btn btn-primary px-3 py-2 me-2">{{ isEditMode ? 'Update' : 'Save Next'
        }}</button>
    </div>
  </div>
